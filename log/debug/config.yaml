data:
  batch_size: 64
  dataset: cifar10
  downsample: true
  num_workers: 8
  root: /srv/home/zxu444/datasets/cifar10_dataset
  train_split: train
  val_split: test
eval:
  batch_size: 128
  max_macs: 1
  n_branches: 128
model:
  branch_enc:
    attn_pdrop: 0.1
    embd_dim: 256
    embd_type: 0
    eos: false
    n_heads: 4
    n_layers: 5
    out_dim: 128
    path_pdrop: 0.1
    pe_type: 0
    proj_pdrop: 0.1
    seq_len: 7
  branch_vae:
    hid_dim: 32
    in_dim: 7
    latent_dim: 2
    n_layers: 3
  content_enc:
    arch: resnet8_cifar
    out_dim: 128
    pretrained: false
  resnet:
    arch: resnet18
    dataset: cifar10
opt:
  branch_enc:
    lr: 0.001
    optim_type: adamw
    sched_type: cosine
    weight_decay: 0.05
  branch_vae:
    lr: 0.001
    optim_type: adamw
    sched_type: cosine
    weight_decay: 0.05
  clip_grad_norm: 1.0
  content_enc:
    lr: 0.001
    optim_type: adamw
    sched_type: cosine
    weight_decay: 0.05
  epochs: 20
  warmup:
  - branch_enc
  - content_enc
  warmup_epochs: 5
seed: 1234567891
train:
  bce_loss: 0.0
  bce_weight: 0.0
  delta_rs: 0.5
  k: 1
  min_n_positives: 64
  n_branches: 64
  rank_weight: 1.0
  sort_weight: 1.0
  temperature: 10
  vae_batch_size: 64
